---
title: 05-ç›‘æ§å‘Šè­¦
description: ç›‘æ§å‘Šè­¦
keywords:
  - ç›‘æ§å‘Šè­¦
  - è¿ç»´
  - çŸ¥è¯†åº“
  - ç³»ç»Ÿç¯å¢ƒ
tags:
  - ç›‘æ§å‘Šè­¦
  - è¿ç»´
  - çŸ¥è¯†åº“
  - ç³»ç»Ÿç¯å¢ƒ
---
# 05-ç›‘æ§å‘Šè­¦

ç›‘æ§å‘Šè­¦æ˜¯ç°ä»£è¿ç»´ä½“ç³»çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼Œè´Ÿè´£ä¿éšœç³»ç»Ÿç¨³å®šè¿è¡Œå’Œå¿«é€Ÿæ•…éšœå“åº”ã€‚æœ¬ç« èŠ‚æ¶µç›–ä»æ¶æ„è®¾è®¡åˆ°å®è·µè½åœ°çš„å®Œæ•´çŸ¥è¯†ä½“ç³»ã€‚

## ğŸ“– å†…å®¹æ¦‚è§ˆ

### ğŸ—ï¸ [å¸¸è§æ¶æ„](./å¸¸è§æ¶æ„.md)
ä»‹ç»ä¸šç•Œä¸»æµçš„ç›‘æ§å‘Šè­¦æ¶æ„ï¼ŒåŒ…æ‹¬ï¼š
- **Prometheus + Alertmanager + Grafana** ç»å…¸ç»„åˆ
- å„ç»„ä»¶çš„èŒè´£åˆ†å·¥ä¸é…ç½®ç¤ºä¾‹
- æ¶æ„æ¼”è¿›ä¸æœ€ä½³å®è·µ

### ğŸ¯ [ç›‘æ§å¯¹è±¡](./ç›‘æ§å¯¹è±¡.md)  
å…¨é¢è¦†ç›–ç›‘æ§ç›®æ ‡ï¼Œå®ç°ç«¯åˆ°ç«¯å¯è§‚æµ‹æ€§ï¼š
- **ç³»ç»Ÿå±‚ç›‘æ§**ï¼šCPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œç­‰åŸºç¡€èµ„æº
- **æœåŠ¡å±‚ç›‘æ§**ï¼šæ•°æ®åº“ã€ç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ä¸­é—´ä»¶
- **åº”ç”¨å±‚ç›‘æ§**ï¼šä¸šåŠ¡æŒ‡æ ‡ã€æ€§èƒ½æŒ‡æ ‡ã€ç”¨æˆ·ä½“éªŒ
- **æ—¥å¿—ä¸é“¾è·¯**ï¼šé—®é¢˜å®šä½ä¸æ€§èƒ½ä¼˜åŒ–

### ğŸš¨ ç›‘æ§å‘Šè­¦ç³»ç»Ÿè®¾è®¡ä¸å®è·µ
æ·±å…¥æ¢è®¨ç›‘æ§å‘Šè­¦çš„è®¾è®¡ç†å¿µä¸å®æ–½æ–¹æ³•ï¼š

#### ç†è®ºåŸºç¡€
- **å››ä¸ªé»„é‡‘ä¿¡å·**ï¼šå»¶è¿Ÿã€æµé‡ã€é”™è¯¯ã€é¥±å’Œåº¦çš„ç›‘æ§ç­–ç•¥
- **åˆ†å±‚ç›‘æ§æ¶æ„**ï¼šä¸šåŠ¡â†’åº”ç”¨â†’åŸºç¡€è®¾æ–½ä¸‰å±‚æ¶æ„è®¾è®¡
- **å‘Šè­¦åˆ†çº§æœºåˆ¶**ï¼šP0-P3 ä¸åŒçº§åˆ«çš„å“åº”ç­–ç•¥å’Œé€šçŸ¥æ–¹å¼

#### å®æˆ˜éƒ¨ç½²
- **Docker Compose æ–¹æ¡ˆ**ï¼šç°ä»£åŒ–å®¹å™¨éƒ¨ç½²ï¼Œä¸€é”®å¯åŠ¨å®Œæ•´ç›‘æ§æ ˆ
- **å®Œæ•´é…ç½®æ–‡ä»¶**ï¼šPrometheusã€Alertmanagerã€Grafana ç”Ÿäº§å¯ç”¨é…ç½®
- **Spring Boot é›†æˆ**ï¼šJava åº”ç”¨ç›‘æ§åŸ‹ç‚¹å’Œè‡ªå®šä¹‰ä¸šåŠ¡æŒ‡æ ‡
- **è‡ªåŠ¨åŒ–è„šæœ¬**ï¼šä»éƒ¨ç½²åˆ°æµ‹è¯•çš„å®Œæ•´è‡ªåŠ¨åŒ–æµç¨‹

#### å‘Šè­¦è§„åˆ™å®ä¾‹
- **ç³»ç»Ÿå‘Šè­¦**ï¼šCPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œç­‰åŸºç¡€èµ„æºå‘Šè­¦
- **åº”ç”¨å‘Šè­¦**ï¼šHTTPé”™è¯¯ç‡ã€å“åº”æ—¶é—´ã€JVM å†…å­˜ç­‰åº”ç”¨æŒ‡æ ‡
- **ä¸šåŠ¡å‘Šè­¦**ï¼šè®¢å•é‡ã€æ”¯ä»˜æˆåŠŸç‡ç­‰ä¸šåŠ¡æ ¸å¿ƒæŒ‡æ ‡
- **é€šçŸ¥æ¨¡æ¿**ï¼šä¼ä¸šå¾®ä¿¡ã€é‚®ä»¶ã€é’‰é’‰ç­‰å¤šæ¸ é“å‘Šè­¦æ¨¡æ¿

#### ç”Ÿäº§ä¼˜åŒ–
- **æ€§èƒ½è°ƒä¼˜**ï¼šæ•°æ®ä¿ç•™ç­–ç•¥ã€é‡‡é›†é¢‘ç‡ä¼˜åŒ–ã€èµ„æºé™åˆ¶é…ç½®
- **å®‰å…¨åŠ å›º**ï¼šè®¿é—®æ§åˆ¶ã€ç½‘ç»œéš”ç¦»ã€å¥åº·æ£€æŸ¥é…ç½®  
- **é«˜å¯ç”¨éƒ¨ç½²**ï¼šPrometheus é›†ç¾¤ã€Thanos é•¿æœŸå­˜å‚¨æ–¹æ¡ˆ
- **æ•…éšœå¤„ç†**ï¼šå‘Šè­¦é£æš´å¤„ç†ã€é™é»˜ç®¡ç†ã€å¸¸è§é—®é¢˜è§£å†³

## ğŸ› ï¸ å®è·µæŒ‡å—

### å¿«é€Ÿå¼€å§‹
1. **é€‰æ‹©ç›‘æ§æ¶æ„**ï¼šæ ¹æ®ä¸šåŠ¡è§„æ¨¡é€‰æ‹©åˆé€‚çš„æŠ€æœ¯æ ˆ
2. **éƒ¨ç½²åŸºç¡€ç»„ä»¶**ï¼šPrometheusã€Grafanaã€Alertmanager
3. **é…ç½®ç›‘æ§å¯¹è±¡**ï¼šä»ç³»ç»Ÿåˆ°åº”ç”¨çš„å…¨è¦†ç›–ç›‘æ§
4. **è®¾è®¡å‘Šè­¦è§„åˆ™**ï¼šåˆ¶å®šç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„å‘Šè­¦ç­–ç•¥

### è¿›é˜¶ä¼˜åŒ–
- **æ€§èƒ½è°ƒä¼˜**ï¼šä¼˜åŒ–æ•°æ®é‡‡é›†é¢‘ç‡å’Œå­˜å‚¨ç­–ç•¥  
- **é«˜å¯ç”¨è®¾è®¡**ï¼šç›‘æ§ç³»ç»Ÿè‡ªèº«çš„å¯é æ€§ä¿éšœ
- **æˆæœ¬æ§åˆ¶**ï¼šå­˜å‚¨æˆæœ¬ä¸ç›‘æ§ç²¾åº¦çš„å¹³è¡¡
- **å›¢é˜Ÿåä½œ**ï¼šOnCall åˆ¶åº¦ä¸æ•…éšœå¤„ç†æµç¨‹

## ğŸ“Š å…³é”®æŒ‡æ ‡

### ç›‘æ§ç³»ç»Ÿå¥åº·åº¦
- **æ•°æ®å®Œæ•´æ€§**ï¼šæŒ‡æ ‡é‡‡é›†æˆåŠŸç‡ > 99.5%
- **å‘Šè­¦æ—¶æ•ˆæ€§**ï¼šP0 çº§å‘Šè­¦å“åº”æ—¶é—´ < 5min
- **ç³»ç»Ÿå¯ç”¨æ€§**ï¼šç›‘æ§ç³»ç»Ÿæœ¬èº«å¯ç”¨æ€§ > 99.9%

### å‘Šè­¦è´¨é‡æŒ‡æ ‡
- **å‡†ç¡®ç‡**ï¼šçœŸå®å‘Šè­¦æ•° / æ€»å‘Šè­¦æ•° > 80%
- **è¦†ç›–ç‡**ï¼šå‘Šè­¦å‘ç°çš„æ•…éšœ / æ€»æ•…éšœæ•° > 95%  
- **MTTR**ï¼šå¹³å‡ä¿®å¤æ—¶é—´æŒç»­ä¼˜åŒ–

## ğŸ”— ç›¸å…³é“¾æ¥

- [Prometheus å®˜æ–¹æ–‡æ¡£](https://prometheus.io/docs/)
- [Grafana å®˜æ–¹æ–‡æ¡£](https://grafana.com/docs/)
- [Google SRE Book](https://sre.google/sre-book/table-of-contents/)
- [CNCF Landscape - Observability](https://landscape.cncf.io/card-mode?category=observability-and-analysis)

---

*ğŸ’¡ æç¤ºï¼šç›‘æ§å‘Šè­¦æ˜¯ä¸€ä¸ªæŒç»­ä¼˜åŒ–çš„è¿‡ç¨‹ï¼Œéœ€è¦ç»“åˆå…·ä½“ä¸šåŠ¡åœºæ™¯ä¸æ–­è°ƒæ•´å’Œå®Œå–„ã€‚å»ºè®®ä»æœ€æ ¸å¿ƒçš„ä¸šåŠ¡æŒ‡æ ‡å¼€å§‹ï¼Œé€æ­¥æ‰©å±•ç›‘æ§è¦†ç›–é¢ã€‚*